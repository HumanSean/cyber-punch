{"version":3,"file":"bundle.js","sources":["../../src/animation.ts","../../src/preload.ts","../../src/index.ts"],"sourcesContent":["let createAnims = function (\r\n  key: string,\r\n  frameRate: number = 4,\r\n  repeat: number = -1,\r\n  duration?: number\r\n) {\r\n  this.anims.create({\r\n    key,\r\n    frames: key,\r\n    frameRate,\r\n    repeat,\r\n    duration,\r\n  });\r\n};\r\n\r\nconst createPlayers = function (name) {\r\n  createAnims(`${name}_idle`, 2);\r\n  createAnims(`${name}_idle2`);\r\n  createAnims(`${name}_walk`);\r\n  createAnims(`${name}_run`, 8);\r\n  createAnims(`${name}_angry`, 8);\r\n  createAnims(`${name}_happy`);\r\n  createAnims(`${name}_attack`, 8, 0);\r\n  createAnims(`${name}_attack2`, 8, 0);\r\n  createAnims(`${name}_attack3`, 8, 0);\r\n  createAnims(`${name}_climb`);\r\n  createAnims(`${name}_dash`, 6, 0);\r\n  createAnims(`${name}_death`);\r\n  createAnims(`${name}_jump`, 6, 0);\r\n  createAnims(`${name}_doublejump`, 8, 0);\r\n  createAnims(`${name}_drone`);\r\n  createAnims(`${name}_fall`);\r\n  createAnims(`${name}_hang`);\r\n  createAnims(`${name}_pullup`);\r\n  createAnims(`${name}_hurt`, 2);\r\n  createAnims(`${name}_punch`);\r\n  createAnims(`${name}_sitdown`);\r\n  createAnims(`${name}_talk`);\r\n  createAnims(`${name}_use`);\r\n  createAnims(`${name}_run_attack`, 8);\r\n  createAnims(`${name}_walk_attack`);\r\n};\r\n\r\nexport const loadAnimation = function () {\r\n  createAnims = createAnims.bind(this);\r\n  createPlayers(\"biker\");\r\n  createPlayers(\"punk\");\r\n  createPlayers(\"cyborg\");\r\n};\r\n","let loadSpriteSheet = function (key, path) {\r\n  this.load.spritesheet(key, path, {\r\n    frameWidth: 32,\r\n    frameHeight: 48,\r\n    spacing: 16,\r\n  });\r\n};\r\n\r\nconst loadPlayers = function (name) {\r\n  loadSpriteSheet(`${name}_idle`, `assets/characters/${name}/idle.png`);\r\n  loadSpriteSheet(`${name}_idle2`, `assets/characters/${name}/idle2.png`);\r\n  loadSpriteSheet(`${name}_walk`, `assets/characters/${name}/walk.png`);\r\n  loadSpriteSheet(`${name}_run`, `assets/characters/${name}/run.png`);\r\n  loadSpriteSheet(`${name}_angry`, `assets/characters/${name}/angry.png`);\r\n  loadSpriteSheet(`${name}_happy`, `assets/characters/${name}/happy.png`);\r\n  loadSpriteSheet(`${name}_attack`, `assets/characters/${name}/attack.png`);\r\n  loadSpriteSheet(`${name}_attack2`, `assets/characters/${name}/attack2.png`);\r\n  loadSpriteSheet(`${name}_attack3`, `assets/characters/${name}/attack3.png`);\r\n  loadSpriteSheet(`${name}_climb`, `assets/characters/${name}/climb.png`);\r\n  loadSpriteSheet(`${name}_dash`, `assets/characters/${name}/dash.png`);\r\n  loadSpriteSheet(`${name}_death`, `assets/characters/${name}/death.png`);\r\n  loadSpriteSheet(`${name}_jump`, `assets/characters/${name}/jump.png`);\r\n  loadSpriteSheet(\r\n    `${name}_doublejump`,\r\n    `assets/characters/${name}/doublejump.png`\r\n  );\r\n  loadSpriteSheet(`${name}_drone`, `assets/characters/${name}/drone.png`);\r\n  loadSpriteSheet(`${name}_fall`, `assets/characters/${name}/fall.png`);\r\n  loadSpriteSheet(`${name}_hang`, `assets/characters/${name}/hang.png`);\r\n  loadSpriteSheet(`${name}_pullup`, `assets/characters/${name}/pullup.png`);\r\n  loadSpriteSheet(`${name}_hurt`, `assets/characters/${name}/hurt.png`);\r\n  loadSpriteSheet(`${name}_punch`, `assets/characters/${name}/punch.png`);\r\n  loadSpriteSheet(`${name}_sitdown`, `assets/characters/${name}/sitdown.png`);\r\n  loadSpriteSheet(`${name}_talk`, `assets/characters/${name}/talk.png`);\r\n  loadSpriteSheet(`${name}_use`, `assets/characters/${name}/use.png`);\r\n  loadSpriteSheet(\r\n    `${name}_run_attack`,\r\n    `assets/characters/${name}/run_attack.png`\r\n  );\r\n  loadSpriteSheet(\r\n    `${name}_walk_attack`,\r\n    `assets/characters/${name}/walk_attack.png`\r\n  );\r\n};\r\n\r\nexport const preload = function () {\r\n  this.load.tilemapTiledJSON(\"map\", \"assets/green_zone/map.json\");\r\n  this.load.image(\"night_bg1\", \"assets/green_zone/background/night/1.png\");\r\n  this.load.image(\"night_bg2\", \"assets/green_zone/background/night/2.png\");\r\n  this.load.image(\"night_bg3\", \"assets/green_zone/background/night/3.png\");\r\n  this.load.image(\"night_bg4\", \"assets/green_zone/background/night/4.png\");\r\n  this.load.image(\"night_bg5\", \"assets/green_zone/background/night/5.png\");\r\n  this.load.image(\"day_bg1\", \"assets/green_zone/background/day/1.png\");\r\n  this.load.image(\"day_bg2\", \"assets/green_zone/background/day/2.png\");\r\n  this.load.image(\"day_bg3\", \"assets/green_zone/background/day/3.png\");\r\n  this.load.image(\"day_bg4\", \"assets/green_zone/background/day/4.png\");\r\n  this.load.image(\"day_bg5\", \"assets/green_zone/background/day/5.png\");\r\n  this.load.image(\r\n    \"overlay\",\r\n    \"assets/green_zone/background/overlay_illumination.png\"\r\n  );\r\n\r\n  this.load.image(\"tiles\", \"assets/green_zone/tiles.png\");\r\n\r\n  loadSpriteSheet = loadSpriteSheet.bind(this);\r\n  loadPlayers(\"biker\");\r\n  loadPlayers(\"punk\");\r\n  loadPlayers(\"cyborg\");\r\n};\r\n","import { loadAnimation } from \"./animation\";\r\nimport { preload } from \"./preload\";\r\n\r\nconst gameWidth = 960;\r\nconst gameHeight = 540;\r\n\r\nclass Main {\r\n  constructor() {\r\n    this._startGame();\r\n  }\r\n  private _startGame() {\r\n    const config: Phaser.Types.Core.GameConfig = {\r\n      type: Phaser.AUTO,\r\n      render: {\r\n        pixelArt: true,\r\n      },\r\n      physics: {\r\n        default: \"matter\",\r\n        matter: {\r\n          gravity: { y: 1 },\r\n          debug: true,\r\n        },\r\n      },\r\n      scale: {\r\n        mode: Phaser.Scale.FIT,\r\n        autoCenter: Phaser.Scale.CENTER_BOTH,\r\n        width: gameWidth,\r\n        height: gameHeight,\r\n      },\r\n      scene: [PlayGame],\r\n    };\r\n\r\n    var game = new Phaser.Game(config);\r\n  }\r\n}\r\n\r\nconst landscape = Math.random() > 0.5 ? \"day\" : \"night\";\r\n\r\nclass PlayGame extends Phaser.Scene {\r\n  bg: Phaser.GameObjects.TileSprite[];\r\n  keys: Record<string, any>;\r\n  playerController: {\r\n    matterSprite: Phaser.Physics.Matter.Sprite;\r\n    character: string;\r\n    speed: number;\r\n    direction: -1 | 1;\r\n    sensors: { bottom: any; left: any; right: any };\r\n    touchFloor: boolean;\r\n    canJump: boolean;\r\n    canDoubleJump: boolean;\r\n    lastDodge: number;\r\n  };\r\n  cam: Phaser.Cameras.Scene2D.Camera;\r\n  map: Phaser.Tilemaps.Tilemap;\r\n\r\n  constructor() {\r\n    super({\r\n      key: \"PlayGame\",\r\n    });\r\n    this.playerController = {\r\n      matterSprite: null,\r\n      character:\r\n        Math.random() < 0.4 ? \"punk\" : Math.random() < 0.5 ? \"cyborg\" : \"biker\",\r\n      speed: 1,\r\n      direction: 1,\r\n      sensors: {\r\n        bottom: null,\r\n        left: null,\r\n        right: null,\r\n      },\r\n      touchFloor: false,\r\n      canJump: true,\r\n      canDoubleJump: false,\r\n      lastDodge: -2000,\r\n    };\r\n  }\r\n  init() {}\r\n  preload() {\r\n    preload.call(this);\r\n  }\r\n  create() {\r\n    // Animation\r\n    loadAnimation.call(this);\r\n\r\n    // Keyboard\r\n    this.keys = this.input.keyboard.addKeys(\"W,A,S,D,SHIFT,J,K,SPACE\");\r\n\r\n    // World\r\n    const map = this.make.tilemap({\r\n      // data: level,\r\n      key: \"map\",\r\n      tileWidth: 32,\r\n      tileHeight: 32,\r\n    });\r\n    this.bg = [\r\n      this.add\r\n        .tileSprite(0, 0, 576, 324, `${landscape}_bg1`)\r\n        .setScale(1.7, 1.5)\r\n        .setOrigin(0, 0),\r\n      this.add\r\n        .tileSprite(0, 0, 576, 324, `${landscape}_bg2`)\r\n        .setScale(1.7, 1.5)\r\n        .setOrigin(0, 0),\r\n      this.add\r\n        .tileSprite(0, 0, 576, 324, `${landscape}_bg3`)\r\n        .setScale(1.7, 1.5)\r\n        .setOrigin(0, 0),\r\n      this.add\r\n        .tileSprite(0, 0, 576, 324, `${landscape}_bg4`)\r\n        .setScale(1.7, 1.5)\r\n        .setOrigin(0, 0),\r\n      this.add\r\n        .tileSprite(0, 0, 576, 324, `${landscape}_bg5`)\r\n        .setScale(1.7, 1.5)\r\n        .setOrigin(0, 0),\r\n    ];\r\n\r\n    this.map = map;\r\n    const tiles = map.addTilesetImage(\"green\", \"tiles\");\r\n    const groundLayer = map.createLayer(0, tiles, 0, 0);\r\n    groundLayer.setCollisionByProperty({ collides: true });\r\n\r\n    this.matter.world.convertTilemapLayer(groundLayer);\r\n    this.matter.world.setBounds(\r\n      0,\r\n      0,\r\n      map.widthInPixels,\r\n      map.heightInPixels - 4\r\n    );\r\n    this.matter.world.createDebugGraphic();\r\n    this.matter.world.drawDebug = true;\r\n    this.matter.world.debugGraphic.visible = false;\r\n\r\n    // Player\r\n    this.playerController.matterSprite = this.matter.add.sprite(\r\n      0,\r\n      0,\r\n      `${this.playerController.character}_idle`\r\n    );\r\n    // @ts-ignore\r\n    var M = Phaser.Physics.Matter.Matter;\r\n    var w = this.playerController.matterSprite.width;\r\n    var h = this.playerController.matterSprite.height;\r\n\r\n    // Move the sensor to player center\r\n    var sx = w / 2;\r\n    var sy = h / 2;\r\n\r\n    // The player's body is going to be a compound body.\r\n    var playerBody = M.Bodies.rectangle(sx, sy + 7, w * 0.5, h * 0.7, {\r\n      chamfer: { radius: 5 },\r\n    });\r\n\r\n    this.playerController.sensors.bottom = M.Bodies.rectangle(\r\n      sx,\r\n      h + 3,\r\n      sx,\r\n      5,\r\n      {\r\n        isSensor: true,\r\n      }\r\n    );\r\n    this.playerController.sensors.left = M.Bodies.rectangle(\r\n      sx - w * 0.35,\r\n      sy,\r\n      5,\r\n      h * 0.25,\r\n      { isSensor: true }\r\n    );\r\n    this.playerController.sensors.right = M.Bodies.rectangle(\r\n      sx + w * 0.35,\r\n      sy,\r\n      5,\r\n      h * 0.25,\r\n      { isSensor: true }\r\n    );\r\n    var compoundBody = M.Body.create({\r\n      parts: [\r\n        playerBody,\r\n        this.playerController.sensors.bottom,\r\n        this.playerController.sensors.left,\r\n        this.playerController.sensors.right,\r\n      ],\r\n      friction: 0.01,\r\n      restitution: 0.05, // Prevent body from sticking against a wall\r\n    });\r\n\r\n    this.playerController.matterSprite.setExistingBody(compoundBody);\r\n    this.playerController.matterSprite\r\n      .setFixedRotation()\r\n      .setPosition(30, gameHeight - 72);\r\n\r\n    this.cam = this.cameras.main;\r\n    this.cam.setBounds(0, 0, map.widthInPixels, map.heightInPixels - 4);\r\n    this.smoothMoveCameraTowards(this.playerController.matterSprite);\r\n\r\n    this.input.on(\r\n      \"pointerdown\",\r\n      function () {\r\n        this.matter.world.debugGraphic.visible =\r\n          !this.matter.world.debugGraphic.visible;\r\n      },\r\n      this\r\n    );\r\n\r\n    this.matter.world.on(\r\n      \"collisionactive\",\r\n      function (event) {\r\n        const playerBody = this.playerController.matterSprite.body;\r\n        const bottom = this.playerController.sensors.bottom;\r\n\r\n        for (var i = 0; i < event.pairs.length; i++) {\r\n          var bodyA = event.pairs[i].bodyA;\r\n          var bodyB = event.pairs[i].bodyB;\r\n          if (bodyA === playerBody || bodyB === playerBody) {\r\n            continue;\r\n          } else if (bodyA === bottom || bodyB === bottom) {\r\n            this.playerController.touchFloor = true;\r\n          }\r\n        }\r\n      },\r\n      this\r\n    );\r\n\r\n    this.matter.world.on(\r\n      \"beforeupdate\",\r\n      function () {\r\n        this.playerController.canJump = false;\r\n        this.playerController.touchFloor = false;\r\n      },\r\n      this\r\n    );\r\n\r\n    this.matter.world.on(\r\n      \"afterupdate\",\r\n      function () {\r\n        if (this.playerController.touchFloor) {\r\n          this.playerController.canJump = true;\r\n          this.playerController.canDoubleJump = true;\r\n        } else {\r\n          this.playerController.canJump = false;\r\n        }\r\n      },\r\n      this\r\n    );\r\n  }\r\n\r\n  playerAction(key, ...args) {\r\n    const player = this.playerController.matterSprite;\r\n    player.anims.play(`${this.playerController.character}_${key}`, ...args);\r\n  }\r\n\r\n  update(time: number, delta: number): void {\r\n    const player = this.playerController.matterSprite;\r\n    // if (!player) return;\r\n\r\n    // speed\r\n    if (this.keys.A.isDown || this.keys.D.isDown) {\r\n      this.playerController.speed = this.keys.SHIFT.isDown ? 3 : 1;\r\n    } else {\r\n      this.playerController.speed = 0;\r\n    }\r\n    // direction\r\n    if (this.keys.A.isDown) {\r\n      player.setFlipX(true);\r\n      this.playerController.direction = -1;\r\n      player.setVelocityX(\r\n        1 * this.playerController.speed * this.playerController.direction\r\n      );\r\n    } else if (this.keys.D.isDown) {\r\n      player.setFlipX(false);\r\n      this.playerController.direction = 1;\r\n      player.setVelocityX(\r\n        1 * this.playerController.speed * this.playerController.direction\r\n      );\r\n    } else {\r\n      player.setVelocityX(0);\r\n    }\r\n    // moveAnimation\r\n    let moveAnim = this.keys.SHIFT.isDown ? \"run\" : \"walk\";\r\n    if (this.keys.J.isDown) moveAnim += \"_attack\";\r\n\r\n    // actions\r\n    // 需按紧触发的，play的第二个参数得设为true，代表不会打断正在播放的动画重头开始\r\n    if (Phaser.Input.Keyboard.JustDown(this.keys.W)) {\r\n      if (this.playerController.canJump) {\r\n        player.setVelocityY(-6);\r\n        this.playerAction(\"jump\");\r\n      } else if (this.playerController.canDoubleJump) {\r\n        player.setVelocityY(-6);\r\n        this.playerController.canDoubleJump = false;\r\n        this.playerAction(\"doublejump\");\r\n      }\r\n    }\r\n\r\n    if (\r\n      Phaser.Input.Keyboard.JustDown(this.keys.SPACE) &&\r\n      time - this.playerController.lastDodge > 2000\r\n    ) {\r\n      this.playerAction(\"dash\", true);\r\n    }\r\n\r\n    if (this.keys.S.isDown) {\r\n      this.playerAction(\"death\", true);\r\n    } else if (this.keys.J.isDown) {\r\n      this.playerAction(\"attack2\", true);\r\n    } else if (this.keys.K.isDown) {\r\n      this.playerAction(\"attack3\", true);\r\n    } else if (this.keys.A.isDown || this.keys.D.isDown) {\r\n      if (!player.anims.isPlaying || player.anims.repeat === -1)\r\n        this.playerAction(moveAnim, true);\r\n    } else {\r\n      if (!player.anims.isPlaying || player.anims.repeat === -1)\r\n        this.playerAction(\"idle\", true);\r\n    }\r\n\r\n    // Camera\r\n    this.smoothMoveCameraTowards(player);\r\n\r\n    // bg\r\n    const bgSpeed = [0.01, 0.05, 0.1, 1, 0.2];\r\n    this.bg.forEach((bg, i) => {\r\n      if (\r\n        player.x > this.cam.centerX &&\r\n        this.map.widthInPixels - player.x > this.cam.centerX\r\n      ) {\r\n        bg.setX(player.x - this.cam.centerX);\r\n      }\r\n      bg.tilePositionX +=\r\n        bgSpeed[i] *\r\n        (i === 3\r\n          ? 1\r\n          : this.playerController.direction * this.playerController.speed);\r\n    });\r\n  }\r\n\r\n  smoothMoveCameraTowards(target, smoothFactor: number = 0) {\r\n    this.cam.scrollX =\r\n      smoothFactor * this.cam.scrollX +\r\n      (1 - smoothFactor) * (target.x - this.cam.width * 0.5);\r\n    this.cam.scrollY =\r\n      smoothFactor * this.cam.scrollY +\r\n      (1 - smoothFactor) * (target.y - this.cam.height * 0.5);\r\n  }\r\n}\r\n\r\nnew Main();\r\n"],"names":[],"mappings":"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"}